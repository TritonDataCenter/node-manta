<!DOCTYPE HTML>
<meta charset="utf-8">
<head>

{{! If you're reading this, you're looking at a template.  The following HTML }}
{{! comment applies to files generated from this template, not this template }}
{{! itself. }}
<!--
    NOTE: This HTML file was generated automatically by "mjob share" from the
    Manta CLI toolkit.  Do not edit this file directly.
 -->

{{#name}}
<title>{{name}}</title>
{{/name}}
{{^name}}
<title>Manta job {{jobid}}</title>
{{/name}}

<script type="text/javascript">

/* BEGIN contents of highlight.pack.js (distributed under the BSD license) */
{{{asset_content_highlightpackjs}}}
/* END contents of highlight.pack.js */

hljs.initHighlightingOnLoad();

function jShowHide(key)
{
	var link = document.getElementById(key + '_link');
	var contents = document.getElementById(key + '_contents');
	if (contents.style.display == 'none') {
		contents.style.display = 'block';
		link.innerHTML = 'hide';
	} else {
		contents.style.display = 'none';
		link.innerHTML = 'show';
	}
}
</script>

<style>
body {
	font-family: "Helvetica Neue", Helvetica, sans-serif;
}

a {
	color: steelblue;
}

h1 {
	font-size: x-large;
}

h2 {
	font-size: large;
}

div.jHeader {
	background: url('data:image/png;base64,{{{asset_content_bg_graphpng}}}');
	box-shadow: 0px 1px 3px #888;
	overflow: hidden;

	height: 35px;
	position: absolute;
	left: 0;
	right: 0;
	top: 0;

	color: white;
	font-size: x-large;
	padding-left: 20px;
	padding-top: 10px;
}

div.jBody {
	margin-top: 75px;
	margin-left: 10%;
	margin-right: 10%;
}

.jWarning {
	color: #b20000;
}

.jNotes {
	font-size: small;
	margin-top: -15px;
	color: #999999;
}

.jAnnotation {
	font-size: small;
	margin-top: -15px;
	color: #999999;
}

.jShowHideLink {
	color: #999999;
}

.jObjectAnnotation {
	font-size: small;
	color: #999999;
}

.jSectionBody {
	margin-left: 50px;
}

.jObjectContents {
	min-width: 600px;
	min-height: 1em;
	margin-top: 10px;
	margin-bottom: 10px;
	margin-left: 10px;
}

.jObjectContents > * > * {
	overflow-x: auto;
}

.jErrorCode {
	width: 150px;
	font-family: monospace;
	color: #999999;
}

.jErrorWhat {
	font-size: small;
}

.jErrorMessage {
	font-size: small;
}

.jErrorTable tr td {
	vertical-align: top;
}

.jHeaderRight {
	float: right;
	margin-right: 100px;
}

table.jObjectTable td {
	vertical-align: top;
}

/*
 * BEGIN contents of github.css, distributed with highlight.js, licensed under
 * the BSD license.
 */
{{{asset_content_githubcss}}}
/* END contents of github.css */
</style>
</head>

<body>

<div class="jHeader">Joyent Manta
<div class="jHeaderRight">
<a href="https://twitter.com/share" class="twitter-share-button"
data-via="joyent" data-size="large" data-count="none" data-hashtags="manta"
data-dnt="true">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
</div>
</div>
<div class="jBody">


{{! If there's a README, use that for the whole header.  Otherwise, create a }}
{{! generic header including the job's name, runtime, and warnings. }}
{{#readme}}
<div class="jReadme">
{{{readme}}}
</div>
{{/readme}}
{{^readme}}
{{#name}}
<h1>{{name}}</h1>
{{/name}}
{{^name}}
<h1>{{jobid}}</h1>
{{/name}}

<p class="jNotes">
{{#name}}
Job {{jobid}}<br />
{{/name}}
Started at {{timeCreated}}<br />
{{#timeDone}}Finished at {{timeDone}}</br>{{/timeDone}}
</p>

{{#warnings}}
<p class="jWarning">Warning: {{msg}}</p>
{{/warnings}}
{{/readme}}


<h2>Job body</h2>
<div class="jSectionBody jObjectContents">
<pre><code>{{body_summary}}</code></pre>
</div>

<h2>Input summary</h2>
{{#maybeMoreInputs}}
<div class="jAnnotation">Showing first {{maxObjects}} input objects</div>
{{/maybeMoreInputs}}

<div class="jSectionBody">
<table class="jObjectTable">
{{#inputs}}
<tr>
<td class="jObjectAnnotation">
{{#appearsBinary}}
(binary)
{{/appearsBinary}}
{{^appearsBinary}}
{{#contents}}
(<a class="jShowHideLink" id="{{key}}_link" href="javascript:jShowHide('{{key}}');">show</a>)
{{/contents}}
{{/appearsBinary}}
</td>
<td>
<a href="{{manta_url}}{{name}}">{{name}}</a>
{{#error}}
<span class="jObjectAnnotation">({{error}})</span>
{{/error}}
<br />
{{^appearsBinary}}
{{#contents}}
<div id="{{key}}_contents" style="display: none" class="jObjectContents"><pre><code>{{contents}}</code></pre>
{{#truncated}}
(contents truncated)
{{/truncated}}
</div>
{{/contents}}
{{/appearsBinary}}
</td>
</tr>
{{/inputs}}
</table>
</div>

<h2>Output summary</h2>
{{#maybeMoreOutputs}}
<div class="jAnnotation">Showing first {{maxObjects}} of {{noutputs}} total outputs</div>
{{/maybeMoreOutputs}}
{{^maybeMoreOutputs}}
<div class="jAnnotation">{{noutputs}} total outputs</div>
{{/maybeMoreOutputs}}

<div class="jSectionBody">
<table class="jObjectTable">
{{#outputs}}
<tr>
<td class="jObjectAnnotation">
{{#appearsBinary}}
(binary)
{{/appearsBinary}}
{{^appearsBinary}}
{{#contents}}
(<a class="jShowHideLink" id="{{key}}_link" href="javascript:jShowHide('{{key}}');">show</a>)
{{/contents}}
{{/appearsBinary}}
</td>
<td>
<a href="{{manta_url}}{{name}}">{{name}}</a>
{{#error}}
<span class="jObjectAnnotation">({{error}})</span>
{{/error}}
<br />
{{^appearsBinary}}
{{#contents}}
<div id="{{key}}_contents" style="display: none" class="jObjectContents"><pre><code>{{contents}}</code></pre>
{{#truncated}}
(contents truncated)
{{/truncated}}
</div>
{{/contents}}
{{/appearsBinary}}
</td>
</tr>
{{/outputs}}
</table>
</div>


<h2>Error summary</h2>
{{#maybeMoreErrors}}
<div class="jAnnotation">Showing first {{maxErrors}} of {{nerrors}} total errors</div>
{{/maybeMoreErrors}}
{{^maybeMoreErrors}}
<div class="jAnnotation">{{nerrors}} total errors</div>
{{/maybeMoreErrors}}

<div class="jSectionBody">
<table class="jErrorTable">
{{#errors}}
<tr>
    <td class="jErrorCode">{{code}}</td>
    <td class="jErrorMessage">{{message}}</td>
</tr>
<tr>
    <td>&nbsp;</td><td class="jErrorWhat">{{what}}</td>
</tr>
{{#stderr}}
<tr>
    <td>&nbsp;</td><td class="jErrorWhat">stderr (from {{stderr}}):</td>
</tr>
<tr>
    <td>&nbsp;</td>
    <td class="jErrorWhat"><div class="jObjectContents">
    <pre><code>{{stderr_contents}}</code></pre>
    </div>
    </td>
</tr>
{{/stderr}}
{{/errors}}
</table>
</div>

</div>
</body>
</html>
